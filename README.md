
# Telegram Bot: City Info & Weather

Этот учебный проект представляет собой Telegram-бота, который использует два различных API для предоставления информации о городах и текущей погоде в них.

## Используемые API
1. [GeoDB Cities API](https://rapidapi.com/wirefreethought/api/geodb-cities):
   - Используется для получения информации о городе (страна, координаты, население).
2. [OpenWeatherMap API](https://home.openweathermap.org/):
   - Используется для получения текущей погоды в городе (температура, влажность, скорость ветра и т.д.).

## Функционал

- Команда `/city <название города>`:
  - Находит город через GeoDB Cities API и возвращает:
    - Название города.
    - Страну.
    - Координаты (широта, долгота).
    - Население.
  - Используя координаты, получает текущую погоду через OpenWeatherMap API:
    - Описание погоды.
    - Температура (текущая и "ощущается как").
    - Влажность.
    - Скорость ветра.

## Установка и запуск

### 1. Клонирование репозитория
Клонируйте этот репозиторий на свой локальный компьютер:
```bash
git clone https://github.com/RAM2635/TG05.git
cd TG05
```

### 2. Установка зависимостей
Создайте виртуальное окружение и установите зависимости:
```bash
python -m venv venv
source venv/bin/activate  # Для Windows: venv\Scripts\activate
pip install -r requirements.txt
```

### 3. Настройка API-ключей
Зарегистрируйтесь на GeoDB Cities API и OpenWeatherMap API, чтобы получить API-ключи. Создайте бота в Telegram через BotFather и получите токен. Создайте файл `.env` в корневой папке проекта и добавьте в него:
```
BOT_TOKEN=ваш_токен_бота
WEATHER_API_KEY=ваш_api_ключ_OpenWeatherMap
GEO_API_KEY=ваш_api_ключ_GeoDB
```

### 4. Запуск бота
Запустите бота:
```bash
python bot.py
```
Бот начнет слушать команды через long polling.

## Использование

### Команды
- `/start`: Показывает приветственное сообщение с инструкцией по использованию.
- `/city <название города>`:
  - Находит город через GeoDB Cities API.
  - Получает текущую погоду через OpenWeatherMap API.
  - Возвращает полную информацию о городе и погоде.

### Примеры
#### `/city Москва`:
```
Информация о городе Москва, RU:
- Широта: 55.7522
- Долгота: 37.6156
- Население: 12506468

Погода:
- Описание: Ясно
- Температура: 18°C (Ощущается как 17°C)
- Влажность: 45%
- Скорость ветра: 3 м/с
```

#### `/city New York`:
```
Информация о городе New York, US:
- Широта: 40.7128
- Долгота: -74.006
- Население: 8175133

Погода:
- Описание: Облачно
- Температура: 22°C (Ощущается как 21°C)
- Влажность: 65%
- Скорость ветра: 5 м/с
```

## Структура проекта
```
├── bot.py          # Основной файл бота
├── .env            # Файл с конфиденциальными ключами (не добавляйте в репозиторий!)
├── requirements.txt # Список зависимостей
└── README.md        # Документация проекта
```

## Зависимости
- Python: 3.8+
- aiogram: 3.x
- requests: 2.x
- python-dotenv: 1.x

## Будущие улучшения
- Добавить прогноз погоды на несколько дней.
- Подключить дополнительные API для расширения информации о городах (например, часовой пояс, валюта, достопримечательности).
- Реализовать обработку возможных ошибок, связанных с отсутствием информации о городе.

## Лицензия
Этот проект создан в учебных целях и распространяется без лицензии.
```